/* =========================
   ESG Assessment – Clean Minimal
   ========================= */

/* 팔레트(간결화) */
:root{
  --g50:#f4fbf7;
  --g100:#e9f7ef;
  --g200:#cfeee0;
  --g300:#a7e0c6;
  --g400:#6dca9f;
  --g500:#36b37e;  /* 포인트 */
  --g600:#2d9c6d;

  --ink900:#0b1a14;
  --ink700:#25362f;
  --ink500:#50645c;
  --ink400:#7b8f86;

  --line:#e6ece9;
  --card:#ffffff;
  --body:#fafcfb;

  --shadow:0 4px 16px rgba(15, 61, 43, .06);
  --shadow-soft:0 2px 10px rgba(15, 61, 43, .05);
}

/* 컨테이너 레이아웃 */
.assessment-container{
  display:flex;
  min-height:100vh;
  font-family: ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial,"Apple SD Gothic Neo","Noto Sans KR",sans-serif;
  color:var(--ink900);
  background:var(--body);
}

/* 사이드바 */
.assessment-sidebar{
  width:260px;
  padding:20px 16px;
  border-right:1px solid var(--line);
  background:#fff;
}

.assessment-sidebar h3{
  margin:0 0 12px;
  font-size:16px;
  font-weight:800;
  color:var(--ink700);
}

.assessment-sidebar ul{
  list-style:none;
  margin:0;
  padding:0;
  display:grid;
  gap:6px;
}

.assessment-sidebar li{
  cursor:pointer;
  padding:10px 12px;
  border-radius:10px;
  color:var(--ink700);
  background:#fff;
  border:1px solid var(--line);
  transition:background .15s ease, border-color .15s ease, color .15s ease, box-shadow .15s ease;
}

.assessment-sidebar li:hover{
  background:var(--g50);
  border-color:var(--g200);
}

.assessment-sidebar li.active{
  background:#eaf6f0;
  color:#114b35;
  font-weight:800;
  border-color:#cfeee0;
}

/* 본문 */
.assessment-content{
  flex:1;
  padding:24px;
  overflow-y:auto;
}

/* 본문 상단 타이틀 바 (sticky) */
.assessment-content > h2{
  position:sticky;
  top:0;
  z-index:5;
  margin:0 0 16px;
  padding:10px 12px;
  background:#ffffffcc;
  backdrop-filter:blur(2px);
  border:1px solid var(--line);
  border-radius:10px;
  box-shadow:var(--shadow-soft);
  font-size:18px;
  font-weight:800;
  color:#1f3b31;
}

/* 질문 카드 */
.question-box{
  margin-bottom:14px;
  padding:16px;
  background:var(--card);
  border:1px solid var(--line);
  border-radius:12px;

  /* 🔽 하이라이트(미응답) 투명도 변수 + 트랜지션 */
  --miss-alpha: 0; /* 0=감춤, 1=표시 */
  box-shadow:
    var(--shadow),
    0 0 0 2px rgba(255, 120, 120, var(--miss-alpha)),
    0 0 0 8px rgba(255, 240, 240, var(--miss-alpha)) inset;
  transition: border-color .1s ease, box-shadow .45s ease, transform .1s ease;
}

.question-box:hover{
  border-color:#dfe7e3;
  box-shadow:
    0 6px 18px rgba(15,61,43,.08),
    0 0 0 2px rgba(255, 120, 120, var(--miss-alpha)),
    0 0 0 8px rgba(255, 240, 240, var(--miss-alpha)) inset;
}

/* 질문 텍스트/설명 */
.question-text{
  display:flex;
  align-items:flex-start;
  gap:8px;
  margin:0 0 6px;
  font-weight:800;
  font-size:1rem;
  color:#1c3a30;
}

.question-description{
  color:var(--ink500);
  font-size:.92rem;
  line-height:1.45;
  margin:0 0 10px;
  padding:8px 10px;
  border-left:3px solid var(--g300);
  background:#f9fcfb;
  border-radius:6px;
}

/* 옵션 그룹 */
.question-box .option-group{
  display:grid;
  gap:8px;
}

/* 커스텀 라디오(예/아니오) – 심플 */
.option{
  display:flex;
  align-items:center;
  gap:10px;
  padding:10px 12px;
  border:1px solid var(--line);
  border-radius:10px;
  background:#fff;
  transition:border-color .15s ease, background .15s ease;
}

.option:hover{
  border-color:var(--g200);
  background:var(--g50);
}

.option input[type="radio"]{
  appearance:none;
  -webkit-appearance:none;
  width:18px;
  height:18px;
  border-radius:50%;
  border:2px solid #a9bcb5;
  background:#fff;
  display:grid;
  place-content:center;
  transition:border-color .15s ease;
}

.option input[type="radio"]::before{
  content:"";
  width:10px;
  height:10px;
  border-radius:50%;
  transform:scale(0);
  transition:transform .12s ease-in-out;
  background:var(--g600);
}

.option input[type="radio"]:checked{
  border-color:var(--g600);
}

.option input[type="radio"]:checked::before{
  transform:scale(1);
}

.option label{
  cursor:pointer;
  color:#20352d;
  font-weight:600;
}

/* 제출 버튼 (원본) */
.submit-btn{
  margin-top:16px;
  padding:10px 14px;
  border:none;
  border-radius:10px;
  font-weight:800;
  font-size:.95rem;
  color:#0b2a1b;
  background:#36b37e;
  box-shadow:0 6px 16px rgba(54,179,126,.18);
  cursor:pointer;
  transition:filter .12s ease, transform .06s ease, box-shadow .15s ease;
}
.submit-btn:hover{ filter:brightness(1.05); }
.submit-btn:active{ transform:translateY(1px); }
.submit-btn:disabled{
  filter:grayscale(.25) opacity(.7);
  box-shadow:none;
  cursor:not-allowed;
}

/* 스크롤바 (라이트) */
.assessment-content::-webkit-scrollbar{ width:10px; }
.assessment-content::-webkit-scrollbar-thumb{
  background:#e2efea;
  border:2px solid #ffffff;
  border-radius:999px;
}

/* 반응형 */
@media (max-width: 980px){
  .assessment-sidebar{ width:220px; }
}
@media (max-width: 820px){
  .assessment-container{ flex-direction:column; }
  .assessment-sidebar{
    width:auto;
    border-right:none;
    border-bottom:1px solid var(--line);
  }
  .assessment-content{ padding:18px; }
  .assessment-content > h2{ margin-bottom:14px; }
}

/* === 예/아니오 Pill 버튼 – 심플 === */
.option-pills{
  display:inline-flex;
  gap:8px;
  flex-wrap:wrap;
}

.pill-input{
  position:absolute;
  opacity:0;
  pointer-events:none;
  width:0;
  height:0;
}

.pill-label{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:8px 14px;
  border-radius:999px;
  border:1px solid var(--line);
  background:#fff;
  color:#20352d;
  font-weight:700;
  cursor:pointer;
  transition:background .15s ease, border-color .15s ease, color .15s ease;
}

.pill-label:hover{
  background:var(--g50);
  border-color:var(--g200);
}

.pill-input:focus-visible + .pill-label{
  outline:2px solid var(--g200);
  outline-offset:2px;
}

/* 선택됨 */
.pill-input:checked + .pill-label{
  background:#eaf6f0;
  border-color:#cfeee0;
  color:#114b35;
}

/* 아이콘 점(선택) */
.pill-dot{
  width:8px;
  height:8px;
  border-radius:50%;
  background:#9db5ad;
  transition:transform .12s ease, background .15s ease;
}
.pill-input:checked + .pill-label .pill-dot{
  background:#2d9c6d;
  transform:scale(1.15);
}

/* ===== 액션 버튼 그룹 (제출/초기화 나란히) ===== */
.btn-row{
  display: flex;
  gap: 10px;
  margin-top: 16px;
  align-items: center;
  flex-wrap: wrap;
}

/* 제출 버튼 – 살짝 더 밝고 액티브한 톤으로 오버라이드 */
.submit-btn{
  padding: 10px 14px;
  border: none;
  border-radius: 10px;
  font-weight: 800;
  font-size: .95rem;
  color: #0b2a1b;
  background: #40c38a;
  box-shadow: 0 6px 16px rgba(64,195,138,.18);
  cursor: pointer;
  transition: filter .12s ease, transform .06s ease, box-shadow .15s ease;
}
.submit-btn:hover{ filter: brightness(1.06); }
.submit-btn:active{ transform: translateY(1px); }
.submit-btn:disabled{
  filter: grayscale(.25) opacity(.7);
  box-shadow: none;
  cursor: not-allowed;
}

/* 초기화 버튼 (원본) */
.reset-btn{
  padding: 10px 14px;
  border: 1px solid var(--line, #e6ece9);
  border-radius: 10px;
  font-weight: 800;
  font-size: .95rem;
  color: #1f3b31;
  background: #ffffff;
  box-shadow: 0 2px 10px var(--shadow-soft, rgba(15,61,43,.05));
  cursor: pointer;
  transition: background .12s ease, border-color .12s ease, transform .06s ease, box-shadow .15s ease;
}
.reset-btn:hover{
  background: var(--g50, #f4fbf7);
  border-color: var(--g200, #cfeee0);
  box-shadow: 0 4px 14px rgba(15,61,43,.06);
}
.reset-btn:active{ transform: translateY(1px); }

/* 🔄 미응답 항목 시각 강조 – 페이드 아웃 방식 */
.question-box.missing{
  --miss-alpha: 1;
  scroll-margin-top: 90px;
}

/* === 버튼 공통 (원본) === */
.btn {
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  padding:10px 16px;
  border-radius:12px;
  font-weight:800;
  font-size:.95rem;
  cursor:pointer;
  transition:filter .12s ease, transform .06s ease, box-shadow .15s ease, background .15s ease, border-color .15s ease;
  user-select:none;
}

/* 버튼 행 – 가운데 정렬 (원본) */
.btn-row{
  display:flex;
  justify-content:center;
  gap:12px;
  margin-top:18px;
  flex-wrap:wrap;
}

/* 프라이머리(제출) (원본) */
.btn--primary{
  color:#0b2a1b;
  background:#40c38a;
  border:1px solid #36b37e;
  box-shadow:0 6px 16px rgba(64,195,138,.18);
}
.btn--primary:hover{ filter:brightness(1.06); }
.btn--primary:active{ transform:translateY(1px); }
.btn--primary:disabled{
  filter:grayscale(.25) opacity(.7);
  box-shadow:none;
  cursor:not-allowed;
}

/* 고스트(초기화) (원본) */
.btn--ghost{
  color:#1f3b31;
  background:#ffffff;
  border:1px solid var(--line, #e6ece9);
  box-shadow:0 2px 10px var(--shadow-soft, rgba(15,61,43,.05));
}
.btn--ghost:hover{
  background:var(--g50, #f4fbf7);
  border-color:var(--g200, #cfeee0);
  box-shadow:0 4px 14px rgba(15,61,43,.06);
}
.btn--ghost:active{ transform:translateY(1px); }

/* === Missing Answers Alert (Modal) === */
.alert-backdrop{
  position:fixed; inset:0; z-index:999;
  background:rgba(10,20,16,.35);
  backdrop-filter:blur(2px);
  display:flex; align-items:center; justify-content:center;
  padding:20px;
}

.alert{
  width:min(560px, 96vw);
  background:#fff;
  border:1px solid var(--line);
  border-radius:14px;
  box-shadow:0 18px 40px rgba(15,61,43,.18);
  overflow:hidden;
  animation:alertIn .16s ease-out;
}

@keyframes alertIn{
  from{ transform:translateY(6px) scale(.98); opacity:0 }
  to  { transform:translateY(0)   scale(1);    opacity:1 }
}

.alert-head{
  padding:14px 16px;
  background:linear-gradient(180deg,#f7fffb,#f2fff8);
  border-bottom:1px solid var(--line);
}
.alert-title{
  margin:0; font-size:16px; font-weight:800; color:#143c2b;
  display:flex; align-items:center; gap:10px;
}
.alert-dot{
  width:10px; height:10px; border-radius:999px; background:var(--g500);
  box-shadow:0 0 0 4px #e9f7ef;
}

.alert-body{
  padding:16px;
  color:var(--ink700);
  font-size:.95rem; line-height:1.45;
}
.alert-list{
  margin:10px 0 0; padding-left:18px; max-height:180px; overflow:auto;
}
.alert-list li{ margin:4px 0; }

.alert-actions{
  display:flex; justify-content:flex-end; gap:10px;
  padding:14px 16px; border-top:1px solid var(--line); background:#fff;
}

/* 재사용 버튼(모달용) */
.alert-btn{
  padding:10px 14px; border-radius:10px; font-weight:800; font-size:.92rem;
  cursor:pointer; user-select:none; transition:filter .12s ease, transform .06s ease, box-shadow .15s ease, background .15s ease, border-color .15s ease;
}
.alert-btn--ghost{
  color:#1f3b31; background:#fff; border:1px solid var(--line);
}
.alert-btn--ghost:hover{ background:var(--g50); border-color:var(--g200); }
.alert-btn--ghost:active{ transform:translateY(1px); }

.alert-btn--primary{
  color:#0b2a1b; background:#40c38a; border:1px solid #36b37e;
  box-shadow:0 6px 16px rgba(64,195,138,.18);
}
.alert-btn--primary:hover{ filter:brightness(1.06); }
.alert-btn--primary:active{ transform:translateY(1px); }

/* ===== Alert Modal ===== */
.modal-overlay{
  position:fixed;
  inset:0;
  z-index:100;
  display:grid;
  place-items:center;
  background:rgba(12, 28, 22, .36);
  backdrop-filter:saturate(120%) blur(2px);
}

.modal-card{
  width:min(520px, 92vw);
  background:#fff;
  border:1px solid var(--line);
  border-radius:14px;
  box-shadow:0 18px 40px rgba(15,61,43,.18);
  padding:16px 16px 14px;
  animation:modal-pop .18s ease-out;
}

@keyframes modal-pop{
  from{ transform:translateY(6px) scale(.98); opacity:0; }
  to{ transform:translateY(0) scale(1); opacity:1; }
}

.modal-title{
  margin:0 0 8px;
  font-size:16px;
  font-weight:800;
  color:var(--ink700);
}

.modal-message{
  margin:0 0 14px;
  color:var(--ink500);
  line-height:1.55;
  white-space:pre-line;
}

.modal-actions{
  display:flex;
  justify-content:flex-end;
  gap:8px;
}

/* =========================
   Actions: Submit / Reset (unified)
   ========================= */

/* === Force-unify bottom buttons (Submit & Reset) === */
/* ⬇ 이 블록은 반드시 파일 '맨 아래'에 위치해야 합니다 */
.btn-row .submit-btn,
.btn-row .reset-btn{
  /* 레이아웃/사이즈(크게) */
  display:inline-flex !important;
  align-items:center !important;
  justify-content:center !important;
  gap:10px !important;

  padding:16px 32px !important;      /* 더 큰 버튼 */
  font-size:1.10rem !important;
  font-weight:800 !important;
  line-height:1 !important;
  border-radius:16px !important;

  /* 동일한 색/외형 */
  color:#ffffff !important;
  background:linear-gradient(180deg,#45cf96,#36b37e) !important;
  border:1px solid #2d9c6d !important;
  box-shadow:0 12px 26px rgba(15,61,43,.12) !important;

  cursor:pointer !important;
  transition:
    filter .12s ease,
    transform .06s ease,
    box-shadow .15s ease,
    background .15s ease !important;
}

.btn-row .submit-btn:hover,
.btn-row .reset-btn:hover{
  background:linear-gradient(180deg,#41c78f,#33ad78) !important;
  box-shadow:0 14px 28px rgba(64,195,138,.22) !important;
}

.btn-row .submit-btn:active,
.btn-row .reset-btn:active{
  transform:translateY(1px) !important;
}

.btn-row .submit-btn:focus-visible,
.btn-row .reset-btn:focus-visible{
  outline:3px solid rgba(109,202,159,.35) !important;
  outline-offset:2px !important;
}

.btn-row{
  justify-content:center !important;
  gap:24px !important;          /* 버튼 간격 */
  margin-top:22px !important;
}
/* =========================
   Bottom Actions — unify both buttons (Submit/Reset)
   ========================= */

/* 공통 규격: 두 버튼 모두 같은 사이즈/모양 */
.btn-row .btn{
  display:inline-flex !important;
  align-items:center !important;
  justify-content:center !important;
  gap:10px !important;

  /* ⬆ 사이즈 업 */
  padding:16px 32px !important;
  font-size:1.10rem !important;
  font-weight:800 !important;
  line-height:1 !important;

  border-radius:16px !important;
  border:1px solid transparent !important;

  /* 동일한 그림자/전환 */
  box-shadow:0 12px 26px rgba(15,61,43,.12) !important;
  transition:
    filter .12s ease,
    transform .06s ease,
    box-shadow .15s ease,
    background .15s ease,
    border-color .15s ease,
    color .15s ease !important;
}

.btn-row .btn:active{ transform:translateY(1px) !important; }
.btn-row .btn:focus-visible{
  outline:3px solid rgba(109,202,159,.35) !important;
  outline-offset:2px !important;
}

/* Primary(제출하기) — 동일 외형 + 그린 풀필 */
.btn-row .btn--primary{
  color:#ffffff !important;
  background:linear-gradient(180deg,#45cf96,#36b37e) !important;
  border-color:#2d9c6d !important;
}
.btn-row .btn--primary:hover{
  background:linear-gradient(180deg,#41c78f,#33ad78) !important;
  box-shadow:0 14px 28px rgba(64,195,138,.22) !important;
}

/* Ghost(초기화) — 동일 외형 + 민트 톤 풀필 */
.btn-row .btn--ghost{
  color:#114b35 !important;
  background:linear-gradient(180deg,#f2fff8,#e9f7ef) !important;
  border-color:#cfeee0 !important;
}
.btn-row .btn--ghost:hover{
  background:linear-gradient(180deg,#ecfff5,#e3f3ea) !important;
  box-shadow:0 14px 28px rgba(15,61,43,.12) !important;
}

/* 버튼 간격 약간 넓게 */
.btn-row{ gap:24px !important; }




/* ===== Floating Scroll FAB ===== */
/* ===== Floating Scroll FAB ===== */
/* === 플로팅 스크롤 FAB (assessment) === */
/* 기존 .scroll-fab, :hover, :active, box-shadow 부분을 이걸로 교체하세요 */
.scroll-fab {
  position: fixed;
  right: 24px;
  bottom: 24px;
  width: 56px;
  height: 56px;
  border: none;
  border-radius: 9999px;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;

  /* 🔄 브랜드 톤: 그린/에메랄드 그라디언트 */
  background: linear-gradient(135deg, #34d399, #16a34a); /* from-emerald-400 → emerald-600 */
  color: #fff;

  /* 초록 기조 그림자 */
  box-shadow:
    0 10px 22px rgba(22, 163, 74, 0.25),
    0 3px 8px rgba(20, 83, 45, 0.18);

  transition: transform .18s ease, box-shadow .18s ease, opacity .2s ease, background .2s ease;
  z-index: 2000;
}

.scroll-fab:hover {
  transform: translateY(-2px);
  box-shadow:
    0 14px 28px rgba(22, 163, 74, 0.3),
    0 6px 12px rgba(20, 83, 45, 0.22);
  /* 살짝 더 밝게 */
  background: linear-gradient(135deg, #4ade80, #16a34a); /* emerald-300 → 600 */
}

.scroll-fab:active {
  transform: translateY(0);
}

.scroll-fab--hidden {
  opacity: 0;
  pointer-events: none;
  transform: scale(.92);
}

.scroll-fab__icon {
  width: 24px;
  height: 24px;
  fill: currentColor;
  transition: transform .18s ease;
}

.scroll-fab--up .scroll-fab__icon { transform: rotate(180deg); }

@media (max-width: 480px) {
  .scroll-fab { right: 16px; bottom: 16px; width: 52px; height: 52px; }
}
